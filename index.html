<!DOCTYPE html>
<html lang="az">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>C…ôdv…ôl</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="manifest" href="site.webmanifest">
    <meta name="theme-color" content="#111827">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="C…ôdv…ôl">

    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        body { font-family: system-ui, -apple-system, sans-serif; -webkit-tap-highlight-color: transparent; }
        
        /* iOS T…ôlimat Animasiyasƒ± */
        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        .ios-hint-box { animation: pulse-border 2s infinite; }
    </style>
</head>

<body class="bg-gray-900 text-gray-200 antialiased font-sans pb-10 select-none">
    
    <header class="bg-gray-800/90 backdrop-blur-md border-b-4 border-blue-500 text-white font-bold p-4 text-2xl text-center shadow-lg sticky top-0 z-50">
        758/ITS
    </header>

    <nav class="flex flex-wrap justify-center items-center gap-2 my-4 px-2">
        <button onclick="showSection('kurs2Section')" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">2-ci KURS</button>
        <button onclick="window.location.href='https://kenox7.github.io/herkes/'" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">Qayƒ±blar</button>
        <button onclick="showSection('kurs1Section')" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">1-ci kurs</button>
        <button onclick="showSection('pdfsSection')" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">PDF</button>
        <button onclick="showSection('flappySection')" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">Flappy</button>
        <button onclick="showSection('bagikSection')" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-full text-sm shadow-md transition transform active:scale-95">Bagik</button>
    </nav>

    <main class="container mx-auto px-3">
        <div id="loader" class="text-center py-10 hidden">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"></div>
            <p class="mt-2 text-gray-400">C…ôdv…ôl y√ºkl…ônir...</p>
        </div>

        <div id="kurs2Section" class="content hidden">
            <h1 class="text-3xl font-extrabold mb-2 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">
                2-ci KURS
            </h1>

            <div class="flex flex-col items-center justify-center gap-3 mb-4">
                
                <div id="weekType" class="text-center w-full"></div>

                <div id="installAppContainer" class="hidden w-full max-w-sm transition-all duration-500 px-4">
                    
                    <button id="installBtn" class="hidden w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transform active:scale-95 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        <span>T…ôtbiqi Y√ºkl…ô</span>
                    </button>

                    <div id="iosInstallHint" class="hidden bg-gray-800 border border-blue-500/50 p-3 rounded-xl ios-hint-box relative mt-2">
                        <button onclick="closeIosHint()" class="absolute top-1 right-2 text-gray-400 text-lg">&times;</button>
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üì≤</span>
                            <div class="text-xs text-gray-300 text-left">
                                <p class="font-bold text-white mb-1">iPhone-da y√ºkl…ôm…ôk √º√ß√ºn:</p>
                                <p>1. A≈üaƒüƒ±dakƒ± <span class="text-blue-400 font-bold">Payla≈ü</span> d√ºym…ôsin…ô basƒ±n.</p>
                                <p>2. <span class="text-gray-100 font-bold bg-gray-700 px-1 rounded">Ana Ekrana ∆èlav…ô Et</span> se√ßin.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-4 bg-gray-800 p-1.5 rounded-full shadow-lg border border-gray-700 mt-1">
                    <button onclick="changeWeek(-1)" class="p-2 rounded-full hover:bg-gray-700 text-blue-400 transition active:scale-90">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                    </button>
                    <span id="dateRange" class="text-gray-300 font-mono font-semibold text-sm min-w-[120px] text-center"></span>
                    <button onclick="changeWeek(1)" class="p-2 rounded-full hover:bg-gray-700 text-blue-400 transition active:scale-90">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                    </button>
                </div>
                <button onclick="resetToToday()" class="text-xs text-gray-500 hover:text-blue-400 underline decoration-dotted">Bug√ºn…ô qayƒ±t</button>
            </div>

            <div id="schedule_kurs2" class="max-w-2xl mx-auto space-y-4 px-1"></div>

            <div id="commentsSection" class="max-w-3xl mx-auto mt-10 pt-6 border-t border-gray-700">
                <h2 class="text-2xl font-bold mb-4 text-center text-blue-300">Qeydl…ôr</h2>
                <form id="comment-form" class="flex flex-col gap-3 mb-6">
                    <input type="text" id="name-input" placeholder="Adƒ±n..." required class="bg-gray-800 border border-gray-600 rounded-lg p-3 text-gray-200 focus:outline-none focus:border-blue-500" />
                    <div class="flex gap-2">
                        <input type="text" id="comment-input" placeholder="Fikrin..." required class="flex-grow bg-gray-800 border border-gray-600 rounded-lg p-3 text-gray-200 focus:outline-none focus:border-blue-500" />
                        <button type="submit" class="bg-blue-600 text-white p-3 rounded-lg">‚úçÔ∏è</button>
                    </div>
                </form>
                <div id="comments-list" class="space-y-3"></div>
            </div>
        </div>

        <div id="kurs1Section" class="content hidden">
            <h1 class="text-3xl font-extrabold mb-4 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">1-ci KURS</h1>
            <div id="schedule_kurs1" class="max-w-2xl mx-auto"></div>
        </div>

        <div id="pdfsSection" class="content hidden">
            <div class="space-y-6 max-w-xl mx-auto">
                <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                    <h3 class="font-bold mb-2 text-blue-300">English for IT 1</h3>
                    <a href="https://drive.google.com/uc?export=download&id=1nis8yYs2h62nUswOa8qfGGlmHwZUZ0R2" class="block w-full text-center bg-gray-700 hover:bg-gray-600 py-3 rounded-lg text-green-400 font-bold transition">‚¨áÔ∏è PDF Y√ºkl…ô</a>
                </div>
                <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
                    <h3 class="font-bold mb-2 text-blue-300">Murphy (Qƒ±rmƒ±zƒ±)</h3>
                    <a href="https://drive.google.com/uc?export=download&id=16RVdE5pbYHQap9Em_sIZN2v8T0IJpT_e" class="block w-full text-center bg-gray-700 hover:bg-gray-600 py-3 rounded-lg text-green-400 font-bold transition">‚¨áÔ∏è PDF Y√ºkl…ô</a>
                </div>
            </div>
        </div>

        <div id="flappySection" class="content hidden">
            <h1 class="text-3xl font-bold mb-4 text-center text-blue-400">Flappy Ramin</h1>
            <div id="flappyContainer" class="aspect-video max-w-4xl mx-auto bg-gray-800 rounded-lg shadow-xl overflow-hidden border border-gray-700"></div>
        </div>

        <div id="bagikSection" class="content hidden">
            <h1 class="text-3xl font-bold mb-4 text-center text-purple-400">Bagik Run</h1>
            <div id="bagikContainer" class="aspect-video max-w-4xl mx-auto bg-gray-800 rounded-lg shadow-xl overflow-hidden border border-gray-700"></div>
        </div>

    </main>

    <footer class="text-center p-6 mt-8 text-xs text-gray-600">
        <p>Created by Kenan</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";
        import { SystemManager } from "./firestore_manager.js";

        // --- PWA QURA≈ûDIRMA KODLARI (S∆èNƒ∞N ƒ∞ST∆èDƒ∞Yƒ∞N Hƒ∞SS∆è) ---
        
        // Service Worker-i qeydiyyatdan ke√ßiririk
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW Hazƒ±rdƒ±r'))
                    .catch(err => console.log('SW X…ôtasƒ±:', err));
            });
        }

        const installContainer = document.getElementById('installAppContainer');
        const installBtn = document.getElementById('installBtn');
        const iosHint = document.getElementById('iosInstallHint');
        let deferredPrompt;

        // Proqramƒ±n artƒ±q qura≈üdƒ±rƒ±ldƒ±ƒüƒ±nƒ± yoxlayƒ±rƒ±q (Standalone rejimi)
        const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;

        if (!isStandalone) {
            // Android √º√ß√ºn "Y√ºkl…ô" d√ºym…ôsi m…ôntiqi
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                installContainer.classList.remove('hidden');
                installBtn.classList.remove('hidden');
            });

            installBtn.addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        installContainer.classList.add('hidden');
                    }
                    deferredPrompt = null;
                }
            });

            // iOS (iPhone) √º√ß√ºn t…ôlimat m…ôntiqi
            const isIos = /iPhone|iPad|iPod/.test(navigator.userAgent) && !window.MSStream;
            if (isIos) {
                // ∆èg…ôr istifad…ô√ßi "baƒüla" d√ºym…ôsini basmayƒ±bsa g√∂st…ôr
                if (!localStorage.getItem('iosHintDismissed')) {
                    installContainer.classList.remove('hidden');
                    iosHint.classList.remove('hidden');
                }
            }
        }

        // iOS t…ôlimatƒ±nƒ± baƒülamaq √º√ß√ºn funksiya (Window obyektin…ô atƒ±rƒ±q ki HTML g√∂rs√ºn)
        window.closeIosHint = () => {
            installContainer.classList.add('hidden');
            localStorage.setItem('iosHintDismissed', 'true'); // Yadda saxla ki, bir daha g√∂st…ôrm…ôsin
        };

        // --- FIREBASE V∆è C∆èDV∆èL KODLARI ---

        const firebaseConfig = {
            apiKey: "AIzaSyAtQ_laoPhn_31RgUFp5hkHPzAcYJSH9_8",
            authDomain: "davamiyyet-sistemi.firebaseapp.com",
            databaseURL: "https://yorumlar-8f969-default-rtdb.firebaseio.com/",
            projectId: "davamiyyet-sistemi",
            storageBucket: "davamiyyet-sistemi.appspot.com",
            messagingSenderId: "773549402059",
            appId: "1:773549402059:web:25286906aa1d998041f84e",
            measurementId: "G-M3Y8QZCM8C"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const rtdb = getDatabase(app);
        const manager = new SystemManager(db);
        const currentGroupId = "758_ITS";
        let currentSchedule = null;
        let viewOffset = 0;

        function getBakuDate() {
            const d = new Date();
            const utc = d.getTime() + (d.getTimezoneOffset() * 60000);
            return new Date(utc + (3600000 * 4));
        }

        // --- COMMENTS SYSTEM ---
        const commentsRef = ref(rtdb, "comments");
        let clientId = localStorage.getItem('clientId');
        if (!clientId) {
            clientId = 'client-' + Math.random().toString(36).substring(2, 11);
            localStorage.setItem('clientId', clientId);
        }

        const commentForm = document.getElementById("comment-form");
        if (commentForm) {
            commentForm.addEventListener("submit", (e) => {
                e.preventDefault();
                const nameInput = document.getElementById("name-input");
                const commentInput = document.getElementById("comment-input");

                if (nameInput.value.trim() !== "" && commentInput.value.trim() !== "") {
                    push(commentsRef, {
                        name: nameInput.value,
                        text: commentInput.value,
                        timestamp: Date.now(),
                        clientId: clientId
                    });
                    commentInput.value = "";
                }
            });
        }

        onValue(commentsRef, (snapshot) => {
            const commentsList = document.getElementById("comments-list");
            if (!commentsList) return;
            commentsList.innerHTML = "";
            const commentsArray = [];
            snapshot.forEach((childSnapshot) => {
                commentsArray.push(childSnapshot.val());
            });

            commentsArray.sort((a, b) => b.timestamp - a.timestamp).forEach((data) => {
                const date = new Date(data.timestamp);
                const formattedDate = date.toLocaleString("az-AZ", { day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit' });
                commentsList.innerHTML += `
                    <div class="bg-gray-800 p-3 rounded-lg border border-gray-700">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-blue-300 font-bold text-sm">${data.name}</span>
                            <span class="text-gray-500 text-xs">${formattedDate}</span>
                        </div>
                        <p class="text-gray-300 text-sm">${data.text}</p>
                    </div>`;
            });
        });

        // --- SCHEDULE LOGIC ---
        async function init() {
            const loader = document.getElementById('loader');
            if (loader) loader.classList.remove('hidden');
            try {
                const semester = await manager.getActiveSemester();
                if (semester) {
                    currentSchedule = await manager.getGroupSchedule(semester.id, currentGroupId);
                    renderScheduleKurs2();
                } else {
                    const el = document.getElementById('schedule_kurs2');
                    if (el) el.innerHTML = "<p class='text-center text-gray-400'>Aktiv Semestr Yoxdur.</p>";
                }
            } catch (e) {
                console.error(e);
            } finally {
                if (loader) loader.classList.add('hidden');
                const section = document.getElementById('kurs2Section');
                if (section) section.classList.remove('hidden');
            }
        }

        const startDate = new Date("2026-02-16T00:00:00+04:00");

        function hefteniTap(date) {
            const start = new Date(startDate); start.setHours(0,0,0,0);
            const d = new Date(date); d.setHours(0,0,0,0);
            const diff = Math.floor((d - start) / (7 * 24 * 3600 * 1000)) + 1;
            return { type: (diff % 2 === 0) ? "alt" : "ust", number: diff > 0 ? diff : 1 };
        }

        const lessonSlots = [
            { start: "09:00", end: "10:20" }, { start: "10:30", end: "11:50" },
            { start: "12:10", end: "13:30" }, { start: "13:40", end: "15:00" }, { start: "15:10", end: "16:30" }
        ];

        function isLessonActive(slotIndex) {
            if (slotIndex < 1 || slotIndex > 5) return false;
            const now = getBakuDate();
            const slot = lessonSlots[slotIndex - 1];
            const [sH, sM] = slot.start.split(':');
            const [eH, eM] = slot.end.split(':');
            const start = getBakuDate(); start.setHours(sH, sM, 0);
            const end = getBakuDate(); end.setHours(eH, eM, 0);
            return now >= start && now <= end;
        }

        window.changeWeek = (delta) => { viewOffset += delta; renderScheduleKurs2(); };
        window.resetToToday = () => { viewOffset = 0; renderScheduleKurs2(); };

        window.copyDaySchedule = (dateStr, lessonsArr) => {
            if (!lessonsArr || !lessonsArr.length) return;
            const text = lessonsArr.map(l => {
                let clean = l.startsWith('{') ? l.substring(l.indexOf('}') + 1).trim() : l;
                return `‚Ä¢ ${clean}`;
            }).join('\n');
            navigator.clipboard.writeText(`üìÖ *${dateStr}*\n${text}\n\n758/ITS`).then(() => alert("Kopyalandƒ±!"));
        };

        function formatAzDate(d) {
            const months = ["Yan", "Fev", "Mar", "Apr", "May", "ƒ∞yun", "ƒ∞yul", "Avq", "Sen", "Okt", "Noy", "Dek"];
            return `${d.getDate()} ${months[d.getMonth()]}`;
        }

        function getDayName(d) {
             const days = ["Bazar", "B.ert…ôsi", "√á.ax≈üamƒ±", "√á…ôr≈ü…ônb…ô", "C.ax≈üamƒ±", "C√ºm…ô", "≈û…ônb…ô"];
             return days[d.getDay()];
        }

        function renderScheduleKurs2() {
            const container = document.getElementById("schedule_kurs2");
            if (!container) return;
            container.innerHTML = "";

            const today = getBakuDate();
            let refDate = new Date(today);
            
            // H…ôft…ô sonudursa, g…ôl…ôn h…ôft…ôy…ô ke√ß
            if (today.getDay() === 0 || today.getDay() === 6) {
                // Bazar (0) -> +1 g√ºn, ≈û…ônb…ô (6) -> +2 g√ºn (Bazar ert…ôsin…ô √ßatmaq √º√ß√ºn)
                refDate.setDate(today.getDate() + (today.getDay() === 6 ? 2 : 1));
                if(viewOffset === 0) {
                     // ∆èg…ôr istifad…ô√ßi "bug√ºn…ô" baxƒ±rsa v…ô h…ôft…ôsonudursa, avtomatik g…ôl…ôn h…ôft…ôni g√∂st…ôr
                }
            }

            const viewDate = new Date(refDate);
            viewDate.setDate(refDate.getDate() + (viewOffset * 7));

            // H…ôft…ônin Bazar ert…ôsini tap
            const dayOfWeek = viewDate.getDay(); 
            const diffToMon = (dayOfWeek + 6) % 7; 
            const monday = new Date(viewDate);
            monday.setDate(viewDate.getDate() - diffToMon);

            const weekInfo = hefteniTap(monday);
            
            // H…ôft…ô m…ôlumatƒ±nƒ± yenil…ô
            const wtEl = document.getElementById("weekType");
            if (wtEl) wtEl.innerHTML = `
                <div class="flex flex-col items-center">
                    <span class="text-2xl font-black ${weekInfo.type === 'alt' ? 'text-yellow-400' : 'text-green-400'} uppercase tracking-widest">${weekInfo.type === 'alt' ? 'ALT H∆èFT∆è' : '√úST H∆èFT∆è'}</span>
                    <span class="text-xs text-gray-400 font-mono mt-1">SEMESTRƒ∞N ${weekInfo.number}-Cƒ∞ H∆èFT∆èSƒ∞</span>
                </div>`;

            // Tarix aralƒ±ƒüƒ±
            const sunday = new Date(monday); sunday.setDate(monday.getDate() + 6);
            document.getElementById("dateRange").innerText = `${formatAzDate(monday)} - ${formatAzDate(sunday)}`;

            // 5 G√ºnl√ºk C…ôdv…ôl
            for (let i = 0; i < 5; i++) {
                const date = new Date(monday);
                date.setDate(monday.getDate() + i);
                const dayIndex = i + 1; // 1-5
                
                const lessons = currentSchedule?.[weekInfo.type]?.[dayIndex] || [];
                const isTodayReal = date.toDateString() === today.toDateString();

                const lessonHtml = lessons.length > 0 ? lessons.map(l => {
                    let text = l, slot = null;
                    if (l.startsWith('{')) {
                        slot = parseInt(l.substring(1, l.indexOf('}')));
                        text = l.substring(l.indexOf('}') + 1).trim();
                    }
                    // D√ºz…ôli≈ü (legacy numbering 1), 2) silinm…ôsi)
                    text = text.replace(/^\d+\)/, '').trim();

                    const active = isTodayReal && slot && isLessonActive(slot);
                    return `
                        <div class="relative p-3 rounded-lg mt-2 text-sm border ${active ? 'bg-green-900/40 border-green-500 shadow-[0_0_10px_rgba(34,197,94,0.3)]' : 'bg-gray-700/30 border-gray-600'}">
                            ${active ? '<div class="absolute top-1 right-2 w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>' : ''}
                            ${slot ? `<span class="text-blue-400 font-bold mr-2">${slot > 3 ? slot-3 : slot})</span>` : ''}
                            <span class="text-gray-200">${text}</span>
                        </div>`;
                }).join('') : "<div class='text-center text-gray-500 py-2 italic text-sm'>D…ôrs yoxdur</div>";

                const lessonsJson = JSON.stringify(lessons).replace(/"/g, '&quot;');
                
                container.innerHTML += `
                    <div class="rounded-xl overflow-hidden border mb-3 transition-all ${isTodayReal ? 'border-blue-500 bg-gray-800 shadow-lg scale-[1.01]' : 'border-gray-700 bg-gray-800/60'}">
                        <div class="p-3 ${isTodayReal ? 'bg-blue-900/30' : 'bg-gray-900/40'} flex justify-between items-center">
                            <div>
                                <span class="font-bold ${isTodayReal ? 'text-blue-300' : 'text-gray-300'}">${getDayName(date)}</span>
                                <span class="text-xs text-gray-500 ml-2">${formatAzDate(date)}</span>
                            </div>
                            ${lessons.length ? `<button onclick="copyDaySchedule('${getDayName(date)}', ${lessonsJson})" class="text-gray-500 hover:text-white">üìã</button>` : ''}
                        </div>
                        <div class="p-3 pt-1">${lessonHtml}</div>
                    </div>`;
            }
        }

        // --- STATƒ∞K KURS 1 & OYUNLAR ---
        const dersCedveliKurs1 = {
             "alt": { 1: ["1)IT …ôsaslarƒ± (seminar) - Kazƒ±mov Ramin", "2)Diferensial t…ônlikl…ôr (m√ºhazir…ô) - Eyyubov Ramazan", "3)Fizika (m√ºhazir…ô) - ∆èlizad…ô Leyla"], 2: ["1)X…ôtti c…ôbr (seminar) - S…ôm…ôdzad…ô F…ôrahim", "2)XDƒ∞AK-2 (seminar) - Abbasova Nurid…ô"], 3: ["2)XDƒ∞AK-2 (seminar) - Abbasova Nurid…ô", "3)IT …ôsaslarƒ±-2 (m√ºhazir…ô) - Kazƒ±mov Ramin"], 4: ["3)ƒ∞nstrumental proqramlar (seminar) - G√∂y√º≈ül√º R…ôvan…ô"], 5: ["2)Proqramla≈üdƒ±rma …ôsaslarƒ± (m√ºhazir…ô) - S…ônan Niyazi", "3)ƒ∞nstrumental proqramlar (m√ºhazir…ô) - G√∂y√º≈ül√º R…ôvan…ô"] },
             "ust": { 1: ["1)X…ôtti c…ôbr (m√ºhazir…ô) - S…ôm…ôdzad…ô F…ôrahim", "2)Diferensial t…ônlikl…ôr (m√ºhazir…ô) - Eyyubov Ramazan", "3)Fizika (m√ºhazir…ô) - ∆èlizad…ô Leyla"], 2: ["1)X…ôtti c…ôbr (seminar) - S…ôm…ôdzad…ô F…ôrahim", "2)XDƒ∞AK-2 (seminar) - Abbasova Nurid…ô", "3)Proqramla≈üdƒ±rma (seminar) - S…ônan Niyazi"], 3: ["2)XDƒ∞AK-2 (seminar) - Abbasova Nurid…ô", "3)ƒ∞T …ôsaslarƒ±-2 (m√ºhazir…ô) - Kazƒ±mov Ramin"], 4: ["2)Diferensial t…ônlikl…ôr (seminar) - Ramazan Eyyubov", "3)Fizika Seminar (seminar) - ∆èlizad…ô Leyla"], 5: ["2)Proqramla≈üdƒ±rma …ôsaslarƒ± (m√ºhazir…ô) - S…ônan Niyazi", "3)ƒ∞nstrumental proqramlar (m√ºhazir…ô) - G√∂y√º≈ül√º R…ôvan…ô"] }
        };

        window.dersleriGosterKurs1 = function () {
             let container = document.getElementById("schedule_kurs1");
             if(!container) return;
             container.innerHTML = "";
             ["alt", "ust"].forEach(type => {
                 container.innerHTML += `<h3 class="text-center font-bold text-yellow-500 mt-4 uppercase">${type} H…ôft…ô</h3>`;
                 for(let i=1; i<=5; i++) {
                     const ls = dersCedveliKurs1[type][i];
                     container.innerHTML += `<div class="bg-gray-800 p-3 rounded mb-2 mt-1 border border-gray-700 text-sm"><div class="text-blue-300 font-bold mb-1">${i}-ci G√ºn</div>${ls ? ls.join('<br>') : 'D…ôrs yoxdur'}</div>`;
                 }
             });
        }

        window.showSection = function (id) {
            document.querySelectorAll('.content').forEach(c => c.classList.add('hidden'));
            const el = document.getElementById(id);
            if (el) el.classList.remove('hidden');

            if (id === 'flappySection' && !document.getElementById("flappyIframe")) {
                document.getElementById("flappyContainer").innerHTML = '<iframe id="flappyIframe" src="https://kenox7.github.io/FlappyRaminn/" class="w-full h-full border-none"></iframe>';
            } else if (id === 'bagikSection' && !document.getElementById("bagikIframe")) {
                document.getElementById("bagikContainer").innerHTML = '<iframe id="bagikIframe" src="https://kenox7.github.io/BagikRun/" class="w-full h-full border-none"></iframe>';
            } else if (id === 'kurs1Section') {
                dersleriGosterKurs1();
            }
        };

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
